<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>CURLMulti Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 858)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">CurlHandle </a></h1>
				<a id="developerHome" href="../index.html">Karelia Systems</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">CURLMulti Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/sharedInstance">&nbsp;&nbsp;&nbsp;&nbsp;+ sharedInstance</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/manageHandle:">&nbsp;&nbsp;&nbsp;&nbsp;- manageHandle:</option>
	
	<option value="//api/name/shutdown">&nbsp;&nbsp;&nbsp;&nbsp;- shutdown</option>
	
	<option value="//api/name/startup">&nbsp;&nbsp;&nbsp;&nbsp;- startup</option>
	
	<option value="//api/name/stopManagingHandle:">&nbsp;&nbsp;&nbsp;&nbsp;- stopManagingHandle:</option>
	
	<option value="//api/name/updateSource:type:socket:raw:required:">&nbsp;&nbsp;&nbsp;&nbsp;- updateSource:type:socket:raw:required:</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
</ul></li>







<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/sharedInstance">sharedInstance</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/manageHandle:">manageHandle:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/shutdown">shutdown</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/startup">startup</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stopManagingHandle:">stopManagingHandle:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/updateSource:type:socket:raw:required:">updateSource:type:socket:raw:required:</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="CURLMulti Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">CURLMulti Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">CURLMulti.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>Wrapper for a curl_multi handle.
In general you shouldn&rsquo;t use this class directly &ndash; use the extensions in NSURLRequest+CURLHandle
instead, and work with normal NSURLConnections.</p>

<p>CURLProtocol uses the global sharedInstance to implement the NSURLRequest/NSURLConnection
integration.</p>

<p>There&rsquo;s nothing to stop you making other instances if you want to &ndash; it&rsquo;s just not really necessary, particularly
as we don&rsquo;t expose the curl multi externally.</p>

<p>This class works by setting up a serial GCD queue to process all events associated with the multi. We add
gcd dispatch sources for each socket that the multi makes, and use them to notify curl when something
happens that needs attention.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						
						

						<ul class="task-list">
							<li>
	<span class="tooltip">
		<code><a href="#//api/name/sharedInstance">+&nbsp;sharedInstance</a></code>
		<span class="tooltip"><p>Return a default instance.
Don&rsquo;t call startup or shutdown on this instance &ndash; startup will already have been called, and shutting it down
will be terminal since it&rsquo;s shared by everything.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/startup">&ndash;&nbsp;startup</a></code>
		<span class="tooltip"><p>Prepare the multi for work. Needs to be called once before addHandle is called. Should be matched with a call to shutdown
before the multi is destroyed.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/shutdown">&ndash;&nbsp;shutdown</a></code>
		<span class="tooltip"><p>Shut down the multi and clean up all resources that it was using.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/manageHandle:">&ndash;&nbsp;manageHandle:</a></code>
		<span class="tooltip"><p>Assign a CURLHandle to the multi to manage.
CURLHandle uses this method internally when you call loadRequest:withMulti: on a handle,
so generally you don&rsquo;t need to call it directly.
The multi will retain the handle for as long as it needs it, but will silently release it once
the handle&rsquo;s upload/download has completed or failed.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/stopManagingHandle:">&ndash;&nbsp;stopManagingHandle:</a></code>
		<span class="tooltip"><p>This removes the handle from the multi. *
It is safe to call this method for a handle that has already been cancelled, or has completed,
(or indeed was never managed by the multi). Doing so will simply do nothing.</p></span>
	</span>
	
	
</li><li>
	<span class="tooltip">
		<code><a href="#//api/name/updateSource:type:socket:raw:required:">&ndash;&nbsp;updateSource:type:socket:raw:required:</a></code>
		<span class="tooltip"><p>Update the dispatch source for a given socket and type.</p></span>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/sharedInstance" title="sharedInstance"></a>
	<h3 class="subsubtitle method-title">sharedInstance</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Return a default instance.
Don&rsquo;t call startup or shutdown on this instance &ndash; startup will already have been called, and shutting it down
will be terminal since it&rsquo;s shared by everything.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>+ (CURLMulti *)sharedInstance</code></div>

    
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The shared instance.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CURLMulti.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/manageHandle:" title="manageHandle:"></a>
	<h3 class="subsubtitle method-title">manageHandle:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Assign a CURLHandle to the multi to manage.
CURLHandle uses this method internally when you call loadRequest:withMulti: on a handle,
so generally you don&rsquo;t need to call it directly.
The multi will retain the handle for as long as it needs it, but will silently release it once
the handle&rsquo;s upload/download has completed or failed.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)manageHandle:(CURLHandle *)<em>handle</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>handle</em></dt>
			<dd><p>The handle to manage. Will be retained by the multi.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CURLMulti.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/shutdown" title="shutdown"></a>
	<h3 class="subsubtitle method-title">shutdown</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Shut down the multi and clean up all resources that it was using.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)shutdown</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CURLMulti.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/startup" title="startup"></a>
	<h3 class="subsubtitle method-title">startup</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Prepare the multi for work. Needs to be called once before addHandle is called. Should be matched with a call to shutdown
before the multi is destroyed.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)startup</code></div>

    
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CURLMulti.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stopManagingHandle:" title="stopManagingHandle:"></a>
	<h3 class="subsubtitle method-title">stopManagingHandle:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>This removes the handle from the multi. *
It is safe to call this method for a handle that has already been cancelled, or has completed,
(or indeed was never managed by the multi). Doing so will simply do nothing.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (void)stopManagingHandle:(CURLHandle *)<em>handle</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>handle</em></dt>
			<dd><p>The handle to cancel. Should have previously been added with manageHandle:.</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>To cancel the handle, call [handle cancel] instead &ndash; it will end up calling this method too,
if the handle was being managed by a multi.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CURLMulti.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/updateSource:type:socket:raw:required:" title="updateSource:type:socket:raw:required:"></a>
	<h3 class="subsubtitle method-title">updateSource:type:socket:raw:required:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Update the dispatch source for a given socket and type.</p>
	</div>		
	
    

	<div class="method-subsection method-declaration"><code>- (dispatch_source_t)updateSource:(dispatch_source_t)<em>source</em> type:(dispatch_source_type_t)<em>type</em> socket:(CURLSocket *)<em>socket</em> raw:(int)<em>raw</em> required:(BOOL)<em>required</em></code></div>

    
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>source</em></dt>
			<dd><p>The current dispatch source for the given type</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>type</em></dt>
			<dd><p>Is this the source for reading or writing?</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>socket</em></dt>
			<dd><p>The <a href="../Classes/CURLSocket.html">CURLSocket</a> object that owns the source.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>raw</em></dt>
			<dd><p>The raw system socket that the dispatch source should be monitoring.</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>required</em></dt>
			<dd><p>Is the source required? If not, an existing source will be cancelled. If required and the source parameter is nil, and new one will be created.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>The new/updated dispatch source.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<div class="warning"><p><strong>Warning:</strong> The routine is used internally by <CURLMulti> / <a href="../Classes/CURLSocket.html">CURLSocket</a>, and shouldn&rsquo;t be called from your code.</p></div>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">CURLMulti.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2013 Karelia Systems. All rights reserved. (Last updated: 2013-05-14)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 858)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
			
			// If showing in Xcode, hide the TOC and Header
			if (navigator.userAgent.match(/xcode/i)) {
				document.getElementById("contents").className = "hideInXcode"
				document.getElementById("tocContainer").className = "hideInXcode"
				document.getElementById("top_header").className = "hideInXcode"
			}
			
		</script>
	</body>
</html>